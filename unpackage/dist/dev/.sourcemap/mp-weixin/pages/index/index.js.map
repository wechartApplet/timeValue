{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/Program Files/仅需快捷方式就能使用的软件/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 输入框：税后月薪 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text class=\"label\">请输入你的税后月薪(元)：</text>\r\n\t\t\t<input class=\"input\" type=\"number\" v-model.number=\"monthlySalary\" placeholder=\"请输入数字\"\r\n\t\t\t\t@blur=\"validateMonthlySalary\" @focus=\"clearValidation('monthlySalary')\"\r\n\t\t\t\t:class=\"{ 'error-border': errors.monthlySalary }\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 输入框：社保金额 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text class=\"label\">请输入公司为你缴纳的社保(元)：</text>\r\n\t\t\t<input class=\"input\" type=\"number\" v-model.number=\"companySocialSecurity\" placeholder=\"请输入数字\"\r\n\t\t\t\t@blur=\"validateSocialSecurity\" @focus=\"clearValidation('companySocialSecurity')\"\r\n\t\t\t\t:class=\"{ 'error-border': errors.companySocialSecurity }\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 输入框：公积金金额 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text class=\"label\">请输入公司为你缴纳的公积金(元)：</text>\r\n\t\t\t<input class=\"input\" type=\"number\" v-model.number=\"companyProvidedHousingFund\" placeholder=\"请输入数字\"\r\n\t\t\t\t@blur=\"validateHousingFund\" @focus=\"clearValidation('companyProvidedHousingFund')\"\r\n\t\t\t\t:class=\"{ 'error-border': errors.companyProvidedHousingFund }\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 日期选择器：出生年月日 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text class=\"label\">请选择你的出生年月日：</text>\r\n\t\t\t<picker mode=\"date\" :value=\"birthDate\" :end=\"maxDate\" @change=\"handleDateChange\">\r\n\t\t\t\t<view class=\"input\">{{ birthDate }}</view>\r\n\t\t\t</picker>\r\n\t\t</view>\r\n\r\n\t\t<!-- 性别选择器 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text class=\"label\">请选择你的性别：</text>\r\n\t\t\t<radio-group class=\"radio-group\" @change=\"handleGenderChange\">\r\n\t\t\t\t<label class=\"radio-label\">\r\n\t\t\t\t\t<radio value=\"0\" :checked=\"gender === 0\" /> 男\r\n\t\t\t\t</label>\r\n\t\t\t\t<label class=\"radio-label\">\r\n\t\t\t\t\t<radio value=\"1\" :checked=\"gender === 1\" /> 女\r\n\t\t\t\t</label>\r\n\t\t\t</radio-group>\r\n\t\t</view>\r\n\r\n\t\t<!-- 错误提示 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<text v-if=\"hasErrors\" class=\"label error-message\">{{ errorMessage }}</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 按钮 -->\r\n\t\t<view class=\"input-group\">\r\n\t\t\t<button class=\"generate-btn\" @click=\"calculateTimeValue\">点击生成你的时间价值</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed\r\n\t} from 'vue';\r\n\r\n\texport default {\r\n\t\tsetup() {\r\n\t\t\tconst monthlySalary = ref(3300); // 用户输入的税后月薪\r\n\t\t\tconst companySocialSecurity = ref(652.8); // 公司交的社保\r\n\t\t\tconst companyProvidedHousingFund = ref(271); // 公司交的公积金\r\n\t\t\tconst birthDate = ref(\"1990-01-01\"); // 用户输入的出生日期\r\n\t\t\tconst maxDate = ref(''); // 出生日期最大值限制\r\n\t\t\tconst gender = ref(0); // 用户选择的性别\r\n\t\t\t// 错误状态\r\n\t\t\tconst errors = ref({\r\n\t\t\t\tmonthlySalary: false,\r\n\t\t\t\tcompanySocialSecurity: false,\r\n\t\t\t\tcompanyProvidedHousingFund: false,\r\n\t\t\t});\r\n\t\t\tconst errorMessage = ref(''); // 错误信息\r\n\r\n\t\t\t// 验证税后月薪的值\r\n\t\t\tconst validateMonthlySalary = () => {\r\n\t\t\t\tif (monthlySalary.value <= 0) {\r\n\t\t\t\t\terrors.value.monthlySalary = true; // 如果输入值小于0，标记为无效\r\n\t\t\t\t\terrorMessage.value = '税后月薪必须大于0';\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrors.value.monthlySalary = false; // 如果输入值有效，清除错误标记\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 验证社保金额的值\r\n\t\t\tconst validateSocialSecurity = () => {\r\n\t\t\t\tif (companySocialSecurity.value < 0) {\r\n\t\t\t\t\terrors.value.companySocialSecurity = true; // 如果输入值小于0，标记为无效\r\n\t\t\t\t\terrorMessage.value = '社保金额必须大于等于0'; // 设置错误信息\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrors.value.companySocialSecurity = false; // 如果输入值有效，清除错误标记\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 验证公积金金额的值\r\n\t\t\tconst validateHousingFund = () => {\r\n\t\t\t\tif (companyProvidedHousingFund.value < 0) {\r\n\t\t\t\t\terrors.value.companyProvidedHousingFund = true; // 如果输入值小于0，标记为无效\r\n\t\t\t\t\terrorMessage.value = '公积金金额必须大于等于0'; // 设置错误信息\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrors.value.companyProvidedHousingFund = false; // 如果输入值有效，清除错误标记\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 清除验证错误\r\n\t\t\tconst clearValidation = (inputName) => {\r\n\t\t\t\terrors.value[inputName] = false; // 清除指定输入框的错误标记\r\n\t\t\t\tif (!Object.values(errors.value).some(Boolean)) {\r\n\t\t\t\t\terrorMessage.value = ''; // 如果没有错误，清除错误信息\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// 是否有错误\r\n\t\t\tconst hasErrors = computed(() => {\r\n\t\t\t\treturn Object.values(errors.value).some(Boolean);\r\n\t\t\t});\r\n\r\n\t\t\t// 设置 maxDate 为当前日期\r\n\t\t\tconst setMaxDate = () => {\r\n\t\t\t\tconst currentDateObj = new Date();\r\n\t\t\t\tmaxDate.value =\r\n\t\t\t\t\t`${currentDateObj.getFullYear()}-${String(currentDateObj.getMonth() + 1).padStart(2, '0')}-${String(currentDateObj.getDate()).padStart(2, '0')}`;\r\n\t\t\t};\r\n\r\n\t\t\t// 处理出生日期选择器的变化\r\n\t\t\tconst handleDateChange = (event) => {\r\n\t\t\t\tbirthDate.value = event.detail.value; // 更新出生日期\r\n\t\t\t};\r\n\r\n\t\t\t// 处理性别选择器的变化\r\n\t\t\tconst handleGenderChange = (event) => {\r\n\t\t\t\tgender.value = event.detail.value - 0; // 更新性别\r\n\t\t\t};\r\n\r\n\t\t\t// 在页面加载时设置 maxDate\r\n\t\t\tsetMaxDate();\r\n\r\n\t\t\t// 点击按钮时获取所有值并跳转页面\r\n\t\t\tconst calculateTimeValue = () => {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tmonthlySalary: monthlySalary.value,\r\n\t\t\t\t\tcompanySocialSecurity: companySocialSecurity.value,\r\n\t\t\t\t\tcompanyProvidedHousingFund: companyProvidedHousingFund.value,\r\n\t\t\t\t\tbirthDate: birthDate.value,\r\n\t\t\t\t\tgender: gender.value\r\n\t\t\t\t};\r\n\t\t\t\t// 跳转到结果页并传递参数\r\n\t\t\t\tif (!hasErrors.value) { //没有报错才可跳转\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: `/pages/result/result?data=${encodeURIComponent(JSON.stringify(params))}`,\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tconsole.log('跳转成功');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tconsole.error('跳转失败', err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 如果有错误，显示一个提示框\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请修正错误后再尝试',\r\n\t\t\t\t\t\ticon: 'none', // 显示纯文本提示\r\n\t\t\t\t\t\tduration: 2000 // 提示框显示时长\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\treturn {\r\n\t\t\t\tmonthlySalary, // 用户输入的税后月薪\r\n\t\t\t\tcompanySocialSecurity, // 公司交的社保\r\n\t\t\t\tcompanyProvidedHousingFund, // 公司交的公积金\r\n\t\t\t\tbirthDate, // 用户输入的出生日期\r\n\t\t\t\tmaxDate, // 出生日期最大值限制\r\n\t\t\t\tgender, // 用户选择的性别\r\n\t\t\t\terrors, // 错误状态\r\n\t\t\t\terrorMessage, // 错误信息\r\n\t\t\t\tvalidateMonthlySalary, // 验证税后月薪的值\r\n\t\t\t\tvalidateSocialSecurity, // 验证社保金额的值\r\n\t\t\t\tvalidateHousingFund, // 验证公积金金额的值\r\n\t\t\t\tclearValidation, // 清除验证错误\r\n\t\t\t\thandleDateChange, // 处理出生日期选择器的变化\r\n\t\t\t\thandleGenderChange, // 处理性别选择器的变化\r\n\t\t\t\tcalculateTimeValue, // 点击按钮时获取所有值并跳转页面\r\n\t\t\t\thasErrors, // 是否有错误\r\n\t\t\t};\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tpadding: 20px;\r\n\t}\r\n\r\n\t.input-group {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.label {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\tpadding: 10px;\r\n\t\tborder: 1px solid #ccc;\r\n\t\tborder-radius: 4px;\r\n\t\tfont-size: 16px;\r\n\t\ttransition: border-color 0.3s ease;\r\n\t}\r\n\r\n\t.error-border {\r\n\t\tborder-color: #f56c6c !important;\r\n\t\tanimation: shake 0.5s;\r\n\t}\r\n\r\n\t.error-message {\r\n\t\tcolor: red;\r\n\t}\r\n\r\n\t@keyframes shake {\r\n\r\n\t\t0%,\r\n\t\t100% {\r\n\t\t\ttransform: translateX(0);\r\n\t\t}\r\n\r\n\t\t10%,\r\n\t\t30%,\r\n\t\t50%,\r\n\t\t70%,\r\n\t\t90% {\r\n\t\t\ttransform: translateX(-5px);\r\n\t\t}\r\n\r\n\t\t20%,\r\n\t\t40%,\r\n\t\t60%,\r\n\t\t80% {\r\n\t\t\ttransform: translateX(5px);\r\n\t\t}\r\n\t}\r\n\r\n\t.radio-group {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.radio-label {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.generate-btn {\r\n\t\twidth: 100%;\r\n\t\tpadding: 15px;\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: white;\r\n\t\tfont-size: 16px;\r\n\t\tborder: none;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/Tencent/wechartApplet/timeValue/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni"],"mappings":"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"}